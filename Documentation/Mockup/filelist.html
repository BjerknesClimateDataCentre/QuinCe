<!DOCTYPE html>
<meta charset=utf-8>
<html>
  <head>
    <link href="http://fonts.googleapis.com/css?family=Noto+Sans:400,700" rel="stylesheet" type="text/css"/>
    <link rel="stylesheet" type="text/css" href="mockup.css"/>
    <title>QuinCe - Instrument List</title>

    <script type="text/javascript">

      var qcColors = ["rgb(255,0,0)", "rgb(255,200,0)", "rgb(0,200,0)", "rgb(50,50,50)"];
      var woceColors = ["rgb(255,0,0)", "rgb(255,200,0)", "rgb(0,200,0)", "rgb(150,220,150)", "rgb(200,200,200)", "rgb(50,50,50)"];

      // Data structures for file stats.
      var recordCounts = new Array();
      recordCounts['BS070.txt'] = 562;
      recordCounts['BS094.txt'] = 719;

      var qcStats = new Array();
      qcStats['BS070.txt'] = [35, 50, 403, 74];
      qcStats['BS094.txt'] = [203, 424, 65, 27];

      var woceStats = new Array();
      woceStats['BS070.txt'] = [11, 50, 155, 145, 127, 119];
      woceStats['BS094.txt'] = [0, 627, 65, 0, 0, 27];

      function drawStatBar(elementId, recordCount, stats, colors) {
        var canvas = document.getElementById(elementId);
        var ctx = canvas.getContext('2d');

        var barFilled = 0;
        for (var i = 0; i < stats.length; i++) {
          ctx.fillStyle = colors[i];
          ctx.fillRect(barFilled * canvas.width, 0, (stats[i] / recordCount) * canvas.width, canvas.height);
          barFilled += (stats[i] / recordCount);
        }
      }
    </script>
  </head>
  <body>
    <div id="header">
      QuinCe
      <div id="userSettings">
        Steve Jones
      </div>
    </div>
    <div id="content">
      <h1>Data Files</h1>
      <table class="fullpage">
        <tr>
          <th>File Name</th>
          <th>Instrument</th>
          <th>Start Date</th>
          <th>QC Status</th>
          <th class="numericCol">Records</th>
          <th class="statbarCol">QC Stats</th>
          <th class="statbarCol">WOCE Stats</th>
          <th>Export</th>
          <th class="numericCol">Time Left</th>
        </tr>
        <tr>
          <td>BS093.txt</td>
          <td>Benguela Stream</td>
          <td>2014-02-01</td>
          <td>In queue</td>
          <td class="numericCol">2013</td>
          <td class="statbarCol">N/A</td>
          <td class="statbarCol">N/A</td>
          <td>Export</td>
          <td class="numericCol">34 days</td>
        </tr>
        <tr>
          <td>BS070.txt</td>
          <td>Benguela Stream</td>
          <td>2009-11-21</td>
          <td>Complete</td>
          <td class="numericCol">562</td>
          <td class="statbarCol">
            <canvas id="0001" class="statBar"></canvas>
            <script type="text/javascript">
              drawStatBar('0001', recordCounts['BS070.txt'], qcStats['BS070.txt'], qcColors);
            </script>
          </td>
          <td class="statbarCol">
            <canvas id="0001a" class="statBar"></canvas>
            <script type="text/javascript">
              drawStatBar('0001a', recordCounts['BS070.txt'], woceStats['BS070.txt'], woceColors);
            </script>
          </td>
          <td>Export</td>
          <td class="numericCol">15 days</td>
        </tr>
        <tr>
          <td>BS094.txt</td>
          <td>Benguela Stream - CRD Test</td>
          <td>2009-11-21</td>
          <td>Complete</td>
          <td class="numericCol">719</td>
          <td class="statbarCol">
            <canvas id="0002" class="statBar"></canvas>
            <script type="text/javascript">
              drawStatBar('0002', recordCounts['BS094.txt'], qcStats['BS094.txt'], qcColors);
            </script>
          </td>
          <td class="statbarCol">
            <canvas id="0002a" class="statBar"></canvas>
            <script type="text/javascript">
              drawStatBar('0002a', recordCounts['BS094.txt'], woceStats['BS094.txt'], woceColors);
            </script>
          </td>
          <td>Export</td>
          <td class="alert numericCol">2 days</td>
        </tr>
      </table>
    </div>
  </body>
</html>
