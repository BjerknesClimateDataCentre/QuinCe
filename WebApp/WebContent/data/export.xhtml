<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	template="/templates/app_page.xhtml">

	<ui:define name="title">
		Export #{fileListBean.chosenFileName}
	</ui:define>

	<ui:define name="content">
		<div style="text-align: center">
			<h:form id="exportForm">
				<h:inputHidden id="chosenFile" value="#{fileListBean.chosenFile}"/>
				<h1>Export</h1>
				<h3><h:outputText value="#{fileListBean.chosenFileName}"/></h3>
				<br/>
				Please select the export format you want, and then click 'Export'
				<br/>
				<br/>
				<p:outputPanel id="exportOptions">
					<p:selectOneRadio id="exportOption" value="#{fileListBean.chosenExportOption}" layout="custom">
						<f:selectItems value="#{fileListBean.exportOptions}" var="x" itemValue="#{x.index}" itemLabel=""/>
					</p:selectOneRadio>

					<table class="minimalCentered">
						<c:forEach var="option" items="#{fileListBean.exportOptions}">
							<tr>
								<td>
				            		<p:radioButton id="exportOption_#{option.index}" for="exportOption" itemIndex="#{option.index}" />
				            	</td>
				            	<td>
				            		<h:outputLabel for="exportOption_#{option.index}" value="#{option.name}" />
				            	</td>
				            </tr>
				        </c:forEach>
			        </table>
				</p:outputPanel>

				<div class="buttonWrapper">
					<h:commandButton id="exportButton" value="Export..." action="#{fileListBean.exportFile}"/>
				</div>


				<div class="buttonWrapper">
					<h:commandButton id="doneButton" value="Back to File List" action="#{fileListBean.goToFileList}" immediate="true"/>
				</div>
			</h:form>
		</div>
		
	</ui:define>
</ui:composition>
