<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:jsf="http://xmlns.jcp.org/jsf"
	xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	template="/templates/app_page.xhtml">
	
	<f:metadata>
		<f:viewParam name="separator" value="#{newInstrumentBean.separator}"/>
		<f:viewParam name="dateFormat" value="#{newInstrumentBean.dateFormat}"/>
	</f:metadata>
	
	<ui:define name="title">
		New Instrument
	</ui:define>

	<ui:define name="localHead">
		<script type="text/javascript">
        $(function() {
            $('[id^=separator_]').click(function() {
                $('#instrumentForm\\:otherSeparatorChar').attr('disabled', instrumentForm.separator.value != 'other');
            });
          });
		</script>
	</ui:define>
	
	<ui:define name="content">
		<h1>#{newInstrumentBean.name}</h1>
		
        <div class="fullPage">
            <h:form id="instrumentForm" method="post" accept-charset="utf8">
                <div class="sectionHeader">
                	File separator
                </div>
                <div class="instructions">
                	Please specify the character used to separate columns in your data file
                	<br/>
                	
                </div>
                <div class="sectionContent">
                    <table class="form">
                        <tr>
                            <td width="33%">
                            	<input type="radio" name="separator" id="separator_comma" jsf:id="separatorComma" a:name="separator" value="comma">
                            		<c:if test="#{newInstrumentBean.separator.equals('comma')}">
                            			<f:passThroughAttribute name="checked" value="checked"/>
                            		</c:if>
                            	</input><label id="separatorCommaLabel" for="separatorComma"> Comma</label>
                            </td>
                            <td width="33%">
                            	<input type="radio" name="separator" id="separator_tab" jsf:id="separatorTab" a:name="separator" value="tab">
                            		<c:if test="#{newInstrumentBean.separator.equals('tab')}">
    	                        		<f:passThroughAttribute name="checked" value="checked"/>
    	                        	</c:if>
                            	</input><label id="separatorTabLabel" for="separatorTab"> Tab</label>
                            </td>
                            <td width="33%">
                            	<input type="radio" name="separator" id="separator_other" jsf:id="separatorOther" a:name="separator" value="other">
                            		<c:if test="#{newInstrumentBean.separator.equals('other')}">
	                            		<f:passThroughAttribute name="checked" value="checked"/>
	                            	</c:if>
                            	</input><label id="separatorOtherLabel" for="separatorOther"> Other </label>
                            	<h:inputText id="otherSeparatorChar" value="#{newInstrumentBean.otherSeparatorChar}" maxlength="1" size="3" disabled="#{!(newInstrumentBean.separator.equals('other'))}"/>
                            </td>
                        </tr>
                        <tr>
                        	<td colspan="3">
								<h:message id="otherSeparatorCharMessage" for="otherSeparatorChar" errorClass="error"/> 
                        	</td>
                        </tr>
                    </table>
                </div>
                <div class="sectionHeader">
                    Date/Time Format
                </div>
                <div class="sectionContent">
                    <div class="instructions">
                        Please select the date format used in your data file.
                    </div>
                    <table class="form">
                        <tr>
                            <td width="33%">
                                <input type="radio" name="dateFormat" id="date_separate" jsf:id="dateFormatSeparate" a:name="dateFormat" value="separate">
                            		<c:if test="#{newInstrumentBean.dateFormat.equals('separate')}">
                                		<f:passThroughAttribute name="checked" value="checked"/>
                                	</c:if>
                                </input><label id="date_separateLabel" for="date_separate"> Separate Fields</label>
                            </td>
                            <td width="33%">
                                <input type="radio" name="dateFormat" id="date_ddmmyy" jsf:id="dateFormatDDMMYY" a:name="dateFormat" value="DDMMYY">
                            		<c:if test="#{newInstrumentBean.dateFormat.equals('DDMMYY')}">
	                                	<f:passThroughAttribute name="checked" value="checked"/>
	                                </c:if>
                                </input><label id="date_ddmmyyLabel" for="date_ddmmyy"> DD/MM/YY</label>
                            </td>
                            <td width="33%">
                                <input type="radio" name="dateFormat" id="date_mmddyy" jsf:id="dateFormatMMDDYY" a:name="dateFormat" value="MMDDYY">
                            		<c:if test="#{newInstrumentBean.dateFormat.equals('MMDDYY')}">
	                                	<f:passThroughAttribute name="checked" value="checked"/>
	                                </c:if>
                                </input><label id="date_mmddyyLabel" for="date_mmddyy"> MM/DD/YY</label>
                            </td>
                        </tr>
                        <tr>
                            <td width="33%">
                                <input type="radio" name="dateFormat" id="date_yyyymmdd" jsf:id="dateFormatYYYYMMDD" a:name="dateFormat" value="YYYYMMDD">
                            		<c:if test="#{newInstrumentBean.dateFormat.equals('YYYYMMDD')}">
	                                	<f:passThroughAttribute name="checked" value="checked"/>
	                                </c:if>
                                </input><label id="date_yyyymmddLabel" for="date_yyyymmdd"> YYYYMMDD</label>
                            </td>
                            <td width="33%">
                                <input type="radio" name="dateFormat" id="date_ddmmyyyy" jsf:id="dateFormatDDMMYYYY" a:name="dateFormat" value="DDMMYYYY">
                            		<c:if test="#{newInstrumentBean.dateFormat.equals('DDMMYYYY')}">
	                                	<f:passThroughAttribute name="checked" value="checked"/>
	                                </c:if>
                                </input><label id="date_ddmmyyyyLabel" for="date_ddmmyyyy"> DD/MM/YYYY</label>
                            </td>
                            <td width="33%">
                                <input type="radio" name="dateFormat" id="date_mmddyyyy" jsf:id="dateFormatMMDDYYYY" a:name="dateFormat" value="MMDDYYYY">
                            		<c:if test="#{newInstrumentBean.dateFormat.equals('MMDDYYYY')}">
    	                            	<f:passThroughAttribute name="checked" value="checked"/>
    	                            </c:if>
                                </input><label id="date_mmddyyyyLabel" for="date_mmddyyyy"> MM/DD/YYYY</label>
                            </td>
                        </tr>
                    </table>
                    <div class="instructions">
                        Please select the time format used in your data file.
                    </div>
                    <table class="form">
                        <tr>
                            <td width="33%">
                                <input type="radio" name="timeFormat" value="separateFields" id="time_separate"></input><label for="time_separate"> Separate Fields</label>
                            </td>
                            <td width="33%">
                                <input type="radio" name="timeFormat" value="hhmmss" id="time_hhmmss"></input><label for="time_hhmmss"> HHMMSS</label>
                            </td>
                            <td width="33%">
                                <input type="radio" name="timeFormat" value="hh:mm:ss" id="time_colons"></input><label for="time_colons"> HH:MM:SS</label>
                            </td>
                        </tr>
                    </table>
                </div>
                <div class="sectionHeader">
                    Latitude/Longitude Format
                </div>
                <div class="sectionContent">
                    <div class="instructions">
                        Please select the format of the latitude data
                    </div>
                    <table class="form">
                        <tr>
                            <td width="33%">
                                <input type="radio" name="latFormat" value="minus90plus90" id="minus90plus90"></input><label for="minus90plus90">-90 to 90</label>
                            </td>
                            <td width="33%">
                                <input type="radio" name="latFormat" value="noughtto90" id="noughtto90"></input><label for="noughtto90">0 to 90 (N/S in separate column)</label>
                            </td>
                            <td width="33%">
                                
                            </td>
                        </tr>
                    </table>
                    <div class="instructions">
                        Please select the format of the longitude data
                    </div>
                    <table class="form">
                        <tr>
                            <td width="33%">
                                <input type="radio" name="lonFormat" value="nought360" id="nought360"></input><label for="nought360">0 to 360</label>
                            </td>
                            <td width="33%">
                                <input type="radio" name="lonFormat" value="minustoplus" id="minustoplus"></input><label for="minustoplus">-180 to 180</label>
                            </td>
                            <td width="33%">
                                <input type="radio" name="lonFormat" value="nougth180" id="nought180"></input><label for="nougth180">0 to 180 (E/W in separate column)</label>
                            </td>
                        </tr>
                    </table>
                </div>
                <div class="sectionHeader">
                  Upload sample file
                </div>
                <div class="instructions">
                  Please select a sample data file to upload
                </div>
                <div class="sectionContent">
                    <input type="text"></input>
                </div>
	            <div class="buttonWrapper">
	            	<h:commandButton id="prevButton" value="Previous" action="#{newInstrumentBean.goToNamesFromFileSpec}"/>
	                <button onclick="next()">Next</button>
	                <button onclick="cancelInstrument()">Cancel</button>
	            </div>
	        </h:form>
    	</div>
	</ui:define>
</ui:composition>